"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[202],{421:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(643),s="Loader_spinner__iDFIv",a="Loader_loader_title__kMPzZ",i=n(184);function c(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:s,children:(0,i.jsx)(r.p2,{height:"180",width:"180",color:"#4fa94d",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})}),(0,i.jsx)("h1",{className:a,children:" Loading..."})]})}},202:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(439),s=n(791),a=n(87),i=n(689),c=n(861),l=n(757),u=n.n(l),o=n(243),h=function(){var e=(0,c.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"/search/movie",baseURL:"https://api.themoviedb.org/3",params:{api_key:"d47b41929439187d961c9c4541d50141",query:t}},e.next=3,(0,o.Z)(n);case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=n(421),d="Movies_section__bjPDA",m="Movies_p__ZprHg",p="Movies_title__MDLXB",f="Movies_list__hqYjd",v="Movies_item__Ba4aJ",x="Movies_link__MzAfU",j="Movies_Button__0LdR0",g="Movies_searchForm__J4-xw",M="Movies_input__KrUqs",N=n(184),Z=function(){var e,t=(0,s.useState)([]),n=(0,r.Z)(t,2),c=n[0],l=n[1],u=(0,s.useState)(!1),o=(0,r.Z)(u,2),Z=o[0],b=o[1],k=(0,s.useState)(null),w=(0,r.Z)(k,2),y=w[0],S=w[1],L=(0,s.useState)(!1),q=(0,r.Z)(L,2),C=q[0],D=q[1],F=(0,s.useState)(""),U=(0,r.Z)(F,2),B=U[0],z=U[1],A=(0,i.TH)(),H=(0,a.lr)(),I=(0,r.Z)(H,2),J=I[0],P=I[1],R=null!==(e=J.get("query"))&&void 0!==e?e:"";(0,s.useEffect)((function(){R&&(D(!1),S(null),b(!0),h(R).then((function(e){l(e),0===e.length&&D(!0)})).catch((function(e){return S(e.message)})).finally((function(){b(!1)})))}),[R]);return(0,N.jsxs)("div",{className:d,children:[(0,N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),P(""!==B?{query:B.trim()}:{}),z("")},className:g,children:[(0,N.jsx)("input",{name:"searchInput",type:"text",value:B,onChange:function(e){var t=e.target.value;z(t)},className:M}),(0,N.jsx)("button",{className:j,children:"serch"})]}),y&&(0,N.jsxs)("p",{children:["Oops, some error:",y]}),c.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h2",{className:p,children:"Search results"}),(0,N.jsx)("ul",{className:f,children:c.map((function(e){return(0,N.jsx)("li",{className:v,children:(0,N.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:A},className:x,children:e.title})},e.id)}))})]}),C&&(0,N.jsx)("p",{className:m,children:"Nothing found. Try again."}),Z&&(0,N.jsx)(_.Z,{})]})}}}]);
//# sourceMappingURL=202.f9574c8c.chunk.js.map